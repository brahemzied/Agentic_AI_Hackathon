source:
  type: postgres
  serviceName: dera-postgres
  serviceConnection:            # <--- this is the correct key
    config:
      type: Postgres           # must match the connector type
      username: "${PGUSER}"
      hostPort: "${PGHOST}:${PGPORT}"
      database: "${PGDATABASE}"
  sourceConfig:
    config:
      type: DatabaseMetadata
      includeTables: true
      includeViews: true
      databaseFilterPattern:
        includes: [ "dera" ]
      schemaFilterPattern:
        includes: [ "raw_dera", "analytics", "analytics_stg", "analytics_int" ]


sink:
  type: metadata-rest
  config: {}

workflowConfig:
  openMetadataServerConfig:
    hostPort: http://openmetadata-server:8585/api
    authProvider: openmetadata
    securityConfig:
      jwtToken: "${OPENMETADATA_JWT_TOKEN}"


      